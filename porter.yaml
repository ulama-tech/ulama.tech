version: v2
name: ulama-landing-frontend
services:
  - name: web
    type: web
    instances: 1
    cpuCores: 0.5
    ramMegabytes: 1024
    port: 3000
    domains:
      - name: ulama.tech
      - name: www.ulama.tech
    healthCheck:
      enabled: true
      httpPath: '/'
      initialDelaySeconds: 30
      periodSeconds: 10
      timeoutSeconds: 5
      failureThreshold: 3
    autoscaling:
      enabled: true
      minInstances: 1
      maxInstances: 5
      cpuThresholdPercent: 70
      memoryThresholdPercent: 80
    private: false
    terminationGracePeriodSeconds: 30
build:
  method: docker
  context: .
  dockerfile: Dockerfile
env:
  NODE_ENV: production
autoRollback:
  enabled: true
